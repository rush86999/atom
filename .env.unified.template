# ATOM Unified Communication Services Configuration
# Copy this to your .env file and update the values

# ========================================
# SERVICE IMPLEMENTATION CONTROL
# ========================================
# Global environment: "mock" or "real"
ATOM_SERVICE_ENV=mock

# Service-specific overrides (set to "true" to use real implementation)
SLACK_USE_REAL=false
MICROSOFT_TEAMS_USE_REAL=false

# ========================================
# SLACK CONFIGURATION
# ========================================
# Required for real Slack integration
SLACK_CLIENT_ID=your_slack_client_id_here
SLACK_CLIENT_SECRET=your_slack_client_secret_here
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token-here
SLACK_SIGNING_SECRET=your_slack_signing_secret_here
SLACK_VERIFICATION_TOKEN=your_slack_verification_token_here

# Slack OAuth configuration
SLACK_REDIRECT_URI=http://localhost:8000/oauth/slack/callback
SLACK_USER_ACCESS_TOKEN=xoxp-your-user-access-token-here
SLACK_BOT_ACCESS_TOKEN=xoxb-your-bot-access-token-here

# Slack workspace configuration
SLACK_WORKSPACE_ID=T1234567890
SLACK_WORKSPACE_NAME=your-workspace
SLACK_TEAM_ID=T1234567890

# ========================================
# MICROSOFT TEAMS CONFIGURATION
# ========================================
# Required for real Teams integration
MICROSOFT_CLIENT_ID=your_microsoft_app_client_id_here
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret_here
MICROSOFT_TENANT_ID=your_microsoft_tenant_id_or_common

# Microsoft Graph API configuration
MICROSOFT_GRAPH_URL=https://graph.microsoft.com/v1.0
MICROSOFT_SCOPES=https://graph.microsoft.com/.default
MICROSOFT_AUTH_URL=https://login.microsoftonline.com

# Teams specific configuration
TEAMS_TEAM_ID=your-teams-team-id
TEAMS_CHANNEL_ID=your-teams-channel-id
TEAMS_USER_ID=your-teams-user-id

# ========================================
# API CONFIGURATION
# ========================================
# Server configuration
HOST=0.0.0.0
PORT=8000
DEBUG=true
LOG_LEVEL=INFO

# API endpoints configuration
API_BASE_URL=http://localhost:8000
FRONTEND_URL=http://localhost:3000
WEBHOOK_BASE_URL=http://localhost:8000/webhooks

# OAuth configuration
OAUTH_STATE_SECRET=your-oauth-state-secret
OAUTH_REDIRECT_BASE=http://localhost:8000/oauth
SLACK_REDIRECT_URI=http://localhost:8000/oauth/slack/callback
TEAMS_REDIRECT_URI=http://localhost:8000/oauth/teams/callback

# ========================================
# DATABASE CONFIGURATION
# ========================================
# SQLite configuration (default)
DATABASE_URL=sqlite:///./atom_unified.db
DATABASE_POOL_SIZE=10

# PostgreSQL configuration (optional)
# DATABASE_URL=postgresql://user:password@localhost:5432/atom_unified

# ========================================
# ENCRYPTION CONFIGURATION
# ========================================
# Token encryption
ATOM_ENCRYPTION_KEY=your-32-byte-encryption-key-here
TOKEN_STORAGE_ENCRYPTION=true

# ========================================
# RATE LIMITING CONFIGURATION
# ========================================
# API rate limits
SLACK_RATE_LIMIT=100
TEAMS_RATE_LIMIT=100
UNIFIED_RATE_LIMIT=200

# Rate limit window (seconds)
RATE_LIMIT_WINDOW=60

# ========================================
# WEBHOOK CONFIGURATION
# ========================================
# Webhook secrets
SLACK_WEBHOOK_SECRET=your-slack-webhook-secret
TEAMS_WEBHOOK_SECRET=your-teams-webhook-secret

# Webhook endpoints
SLACK_WEBHOOK_PATH=/webhooks/slack/events
TEAMS_WEBHOOK_PATH=/webhooks/teams/messages

# ========================================
# LOGGING CONFIGURATION
# ========================================
# Log levels: TRACE, DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FILE_PATH=./logs/atom_unified.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# Service-specific logging
SLACK_LOG_LEVEL=INFO
TEAMS_LOG_LEVEL=INFO
REQUEST_LOG_LEVEL=INFO

# ========================================
# CACHE CONFIGURATION
# ========================================
# Redis configuration (optional)
REDIS_URL=redis://localhost:6379
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# In-memory cache fallback
MEMORY_CACHE_TTL=300
MEMORY_CACHE_MAX_SIZE=100

# ========================================
# TIMEOUT CONFIGURATION
# ========================================
# Request timeouts (seconds)
HTTP_TIMEOUT=30
SLACK_TIMEOUT=30
TEAMS_TIMEOUT=30
OAUTH_TIMEOUT=60

# Connection timeouts
CONNECT_TIMEOUT=10
READ_TIMEOUT=30
WRITE_TIMEOUT=30

# ========================================
# RETRY CONFIGURATION
# ========================================
# Retry settings
MAX_RETRIES=3
RETRY_DELAY=1
RETRY_BACKOFF_FACTOR=2

# ========================================
# MONITORING CONFIGURATION
# ========================================
# Health check settings
HEALTH_CHECK_INTERVAL=30
SERVICE_TIMEOUT=10
DEGRADATION_THRESHOLD=0.8

# Metrics configuration
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# ========================================
# SECURITY CONFIGURATION
# ========================================
# CORS settings
CORS_ORIGINS=http://localhost:3000,https://your-domain.com
CORS_ALLOW_CREDENTIALS=true

# Rate limiting headers
RATE_LIMIT_HEADERS=true

# ========================================
# FEATURE FLAGS
# ========================================
# Feature toggles
ENABLE_WEBHOOKS=true
ENABLE_REAL_TIME=true
ENABLE_CACHING=true
ENABLE_COMPRESSION=true
ENABLE_RATE_LIMITING=true

# Service-specific features
SLACK_ENABLE_REAL_TIME=true
TEAMS_ENABLE_REAL_TIME=true
SLACK_ENABLE_WEBHOOKS=true
TEAMS_ENABLE_WEBHOOKS=true

# ========================================
# TESTING CONFIGURATION
# ========================================
# Mock service configuration
MOCK_TEAMS_COUNT=3
MOCK_CHANNELS_PER_TEAM=5
MOCK_MESSAGES_PER_CHANNEL=20
MOCK_SLACK_WORKSPACES=2
MOCK_SLACK_CHANNELS_PER_WORKSPACE=4
MOCK_SLACK_MESSAGES_PER_CHANNEL=15

# Test data configuration
MOCK_DATA_SEED=12345
MOCK_USER_PREFIX="TestUser"
MOCK_MESSAGE_CONTENT="Test message from mock service"

# ========================================
# DEVELOPMENT CONFIGURATION
# ========================================
# Development settings
DEV_MODE=true
DEV_AUTO_RELOAD=true
DEV_DEBUG_SQL=false
DEV_SEED_DATA=true

# Development URLs
DEV_FRONTEND_URL=http://localhost:3000
DEV_API_URL=http://localhost:8000
DEV_WEBHOOK_URL=http://localhost:8000/webhooks

# ========================================
# PRODUCTION CONFIGURATION
# ========================================
# Production settings
PROD_MODE=false
PROD_SSL=true
PROD_HOST=your-production-domain.com
PROD_API_URL=https://api.your-domain.com

# Production URLs
PROD_FRONTEND_URL=https://your-domain.com
PROD_WEBHOOK_URL=https://api.your-domain.com/webhooks

# Production database
PROD_DATABASE_URL=postgresql://user:password@prod-db:5432/atom_production

# Production security
PROD_CORS_ORIGINS=https://your-domain.com
PROD_RATE_LIMIT_ENABLED=true
PROD_LOG_LEVEL=WARNING