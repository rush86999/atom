---
phase: 08.5-coverage-expansion
plan: 05
type: execute
wave: 2
depends_on: ["08.5-01", "08.5-02", "08.5-03", "08.5-04"]
files_modified:
  - backend/tests/coverage_reports/metrics/coverage.json
  - backend/tests/coverage_reports/metrics/trending.json
autonomous: true

must_haves:
  truths:
    - "Overall coverage report is generated and shows measurable improvement"
    - "Coverage trending data is updated with Phase 8.5 metrics"
    - "Zero-coverage file count is reduced from baseline"
    - "Next phase file priorities are identified"
  artifacts:
    - path: "backend/tests/coverage_reports/metrics/coverage.json"
      provides: "Updated coverage metrics"
      contains: "percent_covered > 9.32"
    - path: "backend/tests/coverage_reports/metrics/trending.json"
      provides: "Coverage trending history"
      contains: "Phase 8.5 entry"
    - path: ".planning/phases/08.5-coverage-expansion/08.5-coverage-expansion-05-SUMMARY.md"
      provides: "Phase completion summary"
      contains: "Final metrics and recommendations"
  key_links:
    - from: "coverage report"
      to: "Phase 8.6 planning"
      via: "zero-coverage file analysis"
      pattern: "remaining zero-coverage files by size"
---

<objective>
Generate coverage reports, analyze Phase 8.5 results, update trending data, and identify next phase priorities.

**Purpose:** Measure the impact of Phase 8.5 testing efforts, document coverage improvements, and provide data-driven recommendations for Phase 8.6.

**Output:** Updated coverage reports, trending analysis, and prioritized file list for next phase.
</objective>

<execution_context>
@/Users/rushiparikh/.claude/get-shit-done/workflows/execute-plan.md
@/Users/rushiparikh/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/phases/08.5-coverage-expansion/08.5-coverage-expansion-RESEARCH.md
@backend/tests/coverage_reports/metrics/coverage.json
@backend/tests/coverage_reports/metrics/trending.json
</context>

<tasks>

<task type="auto">
  <name>Generate updated coverage reports</name>
  <files>backend/tests/coverage_reports/metrics/coverage.json backend/tests/coverage_reports/metrics/trending.json</files>
  <action>
    1. Run full coverage report generation:
       ```bash
       cd backend
       pytest tests/ -v --cov=. --cov-report=html --cov-report=json --cov-report=term --ignore=tests/mobile --ignore=tests/desktop 2>&1 | tee coverage_run.log
       ```

    2. Extract key metrics:
       - Overall coverage percentage (compare to 9.32% baseline)
       - Module-level breakdown (core, api, tools)
       - Zero-coverage file count (compare to 269 baseline)
       - Low-coverage file count (<20%)

    3. Update trending.json with Phase 8.5 entry:
       - Add timestamp: 2026-02-13
       - Record overall_coverage
       - Record files_tested (count of new test files)
       - Record zero_coverage_files_remaining
       - Record phase: "08.5-coverage-expansion"

    4. Generate HTML report for visual review
  </action>
  <verify>
    coverage.json exists and timestamp is recent
    trending.json contains Phase 8.5 entry
  </verify>
  <done>Coverage reports generated, trending.json updated with Phase 8.5 metrics</done>
</task>

<task type="auto">
  <name>Analyze coverage improvements and create summary</name>
  <files>.planning/phases/08.5-coverage-expansion/08.5-coverage-expansion-05-SUMMARY.md</files>
  <action>
    Create comprehensive summary document:

    1. Phase 8.5 Metrics:
       - Baseline coverage: 9.32%
       - Final coverage: X.XX%
       - Improvement: +X.XX percentage points
       - New test files created: 16 (from plans 01-04)
       - Lines of test code added: ~2,700

    2. Coverage by File (from each plan's SUMMARY):
       - List each tested file with coverage achieved
       - Identify highest and lowest coverage improvements

    3. Remaining Zero-Coverage Files:
       - Count remaining zero-coverage files
       - Prioritize by lines of code (largest first)
       - Identify next batch for Phase 8.6

    4. Recommendations:
       - Files that need comprehensive testing (large, complex)
       - Files suitable for quick wins (small, simple)
       - Any patterns discovered (mocking challenges, async issues)

    5. Stretch Goal Assessment:
       - Is 25% overall coverage achievable?
       - What additional work would be needed?

    Format as markdown with sections, tables, and bullet points.
  </action>
  <verify>
    SUMMARY.md exists with all sections complete
    Coverage metrics are accurate and sourced from coverage.json
    Recommendations are specific and actionable
  </verify>
  <done>Comprehensive summary created with metrics, analysis, and recommendations</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. Verify: coverage.json timestamp is current
2. Verify: trending.json has Phase 8.5 entry with metrics
3. Verify: SUMMARY.md exists with complete analysis
4. Run: cat backend/tests/coverage_reports/metrics/trending.json | tail -20 (check Phase 8.5 entry)
</verification>

<success_criteria>
- Coverage reports generated successfully
- Trending data updated with Phase 8.5 metrics
- Summary document created with:
  - Baseline vs final coverage comparison
  - File-by-file coverage results
  - Remaining zero-coverage file priorities
  - Actionable recommendations for Phase 8.6
- Stretch goal assessment (25% coverage) is documented
</success_criteria>

<output>
The final SUMMARY.md serves as the completion record for Phase 8.5 and input for Phase 8.6 planning.

If stretch goal of 25% coverage is not reached:
- Document the gap
- Calculate additional files needed
- Recommend Phase 8.6 scope

If stretch goal is achieved:
- Recommend increasing target to 30% for Phase 8.6
- Focus shift to API and tools modules
</output>
