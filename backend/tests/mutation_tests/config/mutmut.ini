# Mutmut Configuration for Atom Testing Framework
# Mutation testing to verify test quality

[mutmut]
# Runner command
runner = pytest tests/ -x -q --tb=line

# Paths to mutate
paths_to_mutate =
    core/financial_ops_engine.py
    core/financial_forensics.py
    core/security.py
    core/security_dependencies.py
    core/enterprise_security.py
    core/episode_retrieval_service.py
    core/episode_segmentation_service.py
    core/episode_lifecycle_service.py
    core/episode_integration.py
    core/multi_agent_coordinator.py
    core/view_coordinator.py
    core/agent_governance_service.py
    core/governance_cache.py
    core/agent_context_resolver.py
    tools/canvas_tool.py
    tools/device_tool.py
    tools/browser_tool.py

# Paths to exclude
excluded_paths =
    */tests/*
    */migrations/*
    */__init__.py
    */mock_*.py
    debug_*.py

# Mutation types to test
mutations =
    # Arithmetic operators
    arithmetic
    # Boolean operators
    boolean
    # Comparison operators
    comparison
    # Conditional statements
    conditional
    # Lambda expressions
    lambda
    # Statement removal
    statement
    # Function calls
    function_call

# Number of workers (parallel execution)
workers = auto

# Backup directory
backup_dir = .mutmut-backup

# Output directory
output_dir = html

# Hypothesis settings (for property-based tests)
hypothesis_strategy = conservative
hypothesis_max_examples = 50  # Reduced for faster mutation testing

# Coverage threshold
coverage_threshold = 80.0

# Mutation score thresholds by priority
[thresholds]
# Priority 1: Financial & Security (95% target)
P0_financial = 95.0
P0_security = 95.0

# Priority 2: Core Business Logic (90% target)
P1_episodes = 90.0
P1_agents = 90.0
P1_workflows = 90.0

# Priority 3: API & Tools (85% target)
P2_api = 85.0
P2_tools = 85.0

# Priority 4: Other (80% target)
P3_default = 80.0
